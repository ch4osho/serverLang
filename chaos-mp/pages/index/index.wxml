<!-- pages/index/index -->
<view class="pb100 w90 {{isFringeScreen ? 'fringe-screen' : ''}}">
    <view class="header">
        <image alt="headerImage" class="header-image" src="https://web.xuexiyuansu.com/images/miniprogramimages/-1396342996_1582870292623.png" bindtap="navigateToIntro"></image>
    </view>
    <view class="parent-guide {{upward?'upward' : ''}}" bindtap="navigateToParentGuide" style="display: {{upward ? 'flex' : 'none'}}">
        <image src="https://web.xuexiyuansu.com/images/miniprogramimages/-1698726002_1582877096726.png" mode="widthFix"></image>
        <text>家长指引</text>
    </view>
    <view class="parent-guide {{!upward?'downward' : ''}}" bindtap="navigateToParentGuide" style="display: {{!upward ? 'flex' : 'none'}}">
        <image src="https://web.xuexiyuansu.com/images/miniprogramimages/-1698726002_1582877096726.png" mode="widthFix"></image>
    </view>
    <view class="course">
        <text>课程</text>
    </view>
    <view class="swiper-tab">
        <view class="swiper-tab-item {{currentTab == 0 ? 'active' : ''}}" data-current="0" bindtap="clickTab">
            热门推荐
        </view>
        <view class="swiper-tab-item {{currentTab == 1 ? 'active' : ''}}" data-current="1" bindtap="clickTab">
            小学课程
        </view>
        <view class="swiper-tab-item {{currentTab == 2 ? 'active' : ''}}" data-current="2" bindtap="clickTab">
            初中课程
        </view>
        <view class="swiper-tab-item {{currentTab == 3 ? 'active' : ''}}" data-current="3" bindtap="clickTab">
            高中课程
        </view>
    </view>
    <swiper current="{{currentTab}}" duration="300" bindchange="swiperTab" class="swiper" style="height: {{scrollViewHeight?scrollViewHeight+'px':'auto'}}">
        <swiper-item>
            <scroll-view scroll-y="true" style="height: {{scrollViewHeight?scrollViewHeight+'px':'auto'}}">
                <button bindtap="navigateToPurchaseSuccessful" class="pretender" data-a="123">
                    跳转购课成功页
                </button>
                <button bindtap="navigateToConvertPage" data-c="wt21" class="pretender">
                    跳转化页
                </button>
                <button class="pretender" open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber">
                    登录
                </button>
                <button class="pretender" data-c="wt21" bindtap="navigateToGroupPurchase">
                    前往拼团页
                </button>
                <button class="pretender" data-c="wt21" bindtap="navigateToMiddlePage">
                    前往公众号中间页
                </button>
                <button class="pretender" bindgetuserinfo="handleUserInfo" open-type="getUserInfo">
                    获取用户信息
                </button>
                <view wx:for="{{recommendCourseList}}" wx:for-item="item" wx:key="index" wx:for-index="idx">
                    <image src="{{item.picUrl}}" bindtap="navigateToConvertPage" data-c="{{item.channel}}" data-ctype="{{item.channelType}}" mode="widthFix"></image>
                </view>
            </scroll-view>
        </swiper-item>
        <swiper-item>
            <scroll-view scroll-y="true" style="height: {{scrollViewHeight?scrollViewHeight+'px':'auto'}}">
                <view wx:for="{{primaryCourseList}}" wx:for-item="item" wx:key="index" wx:for-index="idx">
                    <image src="{{item.picUrl}}" bindtap="navigateToConvertPage" data-c="{{item.channel}}" data-ctype="{{item.channelType}}" mode="widthFix"></image>
                </view>
            </scroll-view>
        </swiper-item>
        <swiper-item>
            <scroll-view scroll-y="true" style="height: {{scrollViewHeight?scrollViewHeight+'px':'auto'}}">
                <view wx:for="{{middleCourseList}}" wx:for-item="item" wx:key="index" wx:for-index="idx">
                    <image src="{{item.picUrl}}" bindtap="navigateToConvertPage" data-c="{{item.channel}}" data-ctype="{{item.channelType}}" mode="widthFix"></image>
                </view>
            </scroll-view>
        </swiper-item>
        <swiper-item>
            <scroll-view scroll-y="true" style="height: {{scrollViewHeight?scrollViewHeight+'px':'auto'}}">
                <view wx:for="{{highCourseList}}" wx:for-item="item" wx:key="index" wx:for-index="idx">
                    <image src="{{item.picUrl}}" bindtap="navigateToConvertPage" data-c="{{item.channel}}" data-ctype="{{item.channelType}}" mode="widthFix"></image>
                </view>
            </scroll-view>
        </swiper-item>
    </swiper>
</view>
<!-- 下载 -->
<xdh-download-bar isFringeScreen="{{isFringeScreen}}"></xdh-download-bar>
<!-- 错误弹窗 -->
<xdh-toast show="{{showErrorDialog}}" msg="{{errorDes}}"></xdh-toast>