(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["purchaseLog"],{"05b5":function(e,a,t){"use strict";var r=t("5f99"),l=t.n(r);l.a},"25f0":function(e,a,t){"use strict";var r=t("6eeb"),l=t("825a"),n=t("d039"),o=t("ad6d"),s="toString",c=RegExp.prototype,i=c[s],p=n((function(){return"/a/b"!=i.call({source:"a",flags:"b"})})),u=i.name!=s;(p||u)&&r(RegExp.prototype,s,(function(){var e=l(this),a=String(e.source),t=e.flags,r=String(void 0===t&&e instanceof RegExp&&!("flags"in c)?o.call(e):t);return"/"+a+"/"+r}),{unsafe:!0})},"44e7":function(e,a,t){var r=t("861d"),l=t("c6b6"),n=t("b622"),o=n("match");e.exports=function(e){var a;return r(e)&&(void 0!==(a=e[o])?!!a:"RegExp"==l(e))}},"4d63":function(e,a,t){var r=t("83ab"),l=t("da84"),n=t("94ca"),o=t("7156"),s=t("9bf2").f,c=t("241c").f,i=t("44e7"),p=t("ad6d"),u=t("9f7f"),d=t("6eeb"),m=t("d039"),h=t("69f3").set,b=t("2626"),g=t("b622"),y=g("match"),f=l.RegExp,v=f.prototype,w=/a/g,x=/a/g,T=new f(w)!==w,_=u.UNSUPPORTED_Y,I=r&&n("RegExp",!T||_||m((function(){return x[y]=!1,f(w)!=w||f(x)==x||"/a/i"!=f(w,"i")})));if(I){var k=function(e,a){var t,r=this instanceof k,l=i(e),n=void 0===a;if(!r&&l&&e.constructor===k&&n)return e;T?l&&!n&&(e=e.source):e instanceof k&&(n&&(a=p.call(e)),e=e.source),_&&(t=!!a&&a.indexOf("y")>-1,t&&(a=a.replace(/y/g,"")));var s=o(T?new f(e,a):f(e,a),r?this:v,k);return _&&t&&h(s,{sticky:t}),s},F=function(e){e in k||s(k,e,{configurable:!0,get:function(){return f[e]},set:function(a){f[e]=a}})},S=c(f),C=0;while(S.length>C)F(S[C++]);v.constructor=k,k.prototype=v,d(l,"RegExp",k)}b("RegExp")},"5f99":function(e,a,t){},7156:function(e,a,t){var r=t("861d"),l=t("d2bb");e.exports=function(e,a,t){var n,o;return l&&"function"==typeof(n=a.constructor)&&n!==t&&r(o=n.prototype)&&o!==t.prototype&&l(e,o),e}},"73d3":function(e,a,t){"use strict";t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return l}));t("4d63"),t("ac1f"),t("25f0"),t("5319");function r(e,a){var t=null;return function(){var r=this,l=arguments;t&&clearTimeout(t),t=setTimeout((function(){e.apply(r,l)}),a)}}function l(e,a){var t={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e}},"7e12":function(e,a,t){var r=t("da84"),l=t("58a8").trim,n=t("5899"),o=r.parseFloat,s=1/o(n+"-0")!==-1/0;e.exports=s?function(e){var a=l(String(e)),t=o(a);return 0===t&&"-"==a.charAt(0)?-0:t}:o},"99af":function(e,a,t){"use strict";var r=t("23e7"),l=t("d039"),n=t("e8b5"),o=t("861d"),s=t("7b0b"),c=t("50c4"),i=t("8418"),p=t("65f0"),u=t("1dde"),d=t("b622"),m=t("2d00"),h=d("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",y=m>=51||!l((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),f=u("concat"),v=function(e){if(!o(e))return!1;var a=e[h];return void 0!==a?!!a:n(e)},w=!y||!f;r({target:"Array",proto:!0,forced:w},{concat:function(e){var a,t,r,l,n,o=s(this),u=p(o,0),d=0;for(a=-1,r=arguments.length;a<r;a++)if(n=-1===a?o:arguments[a],v(n)){if(l=c(n.length),d+l>b)throw TypeError(g);for(t=0;t<l;t++,d++)t in n&&i(u,d,n[t])}else{if(d>=b)throw TypeError(g);i(u,d++,n)}return u.length=d,u}})},acd8:function(e,a,t){var r=t("23e7"),l=t("7e12");r({global:!0,forced:parseFloat!=l},{parseFloat:l})},be4b:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("main",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"content-wrap"},[t("div",{staticClass:"content-filters"},[t("div",{staticClass:"filter-col"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.searchDialog=!0}}},[e._v("搜索")])],1),t("div",{staticClass:"filter-col"},[t("el-button",{attrs:{size:"small"},on:{click:e.reset}},[e._v("刷新")])],1)]),t("el-main",{staticClass:"content-main"},[t("el-table",{ref:"purchaseLogList",staticStyle:{width:"99%"},attrs:{data:e.purchaseLogList,border:"","tooltip-effect":"dark",height:"100%","row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{align:"center",prop:"orderTime",label:"订单时间","min-width":"15",formatter:e.dateFormat}}),t("el-table-column",{attrs:{align:"center",prop:"orderId",label:"订单ID","min-width":"15"}}),t("el-table-column",{attrs:{align:"center",prop:"phone",label:"手机号","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"deviceId",label:"设备ID","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"orderStatus",label:"订单状态","min-width":"10"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.orderStatus?t("span",[e._v("等待支付")]):e._e(),100===a.row.orderStatus?t("span",{staticClass:"global-theme-text"},[e._v("支付成功")]):e._e(),101===a.row.orderStatus?t("span",[e._v("支付失败")]):e._e(),102===a.row.orderStatus?t("span",[e._v("支付取消")]):e._e(),200===a.row.orderStatus?t("span",{staticClass:"global-theme-text"},[e._v("订单完成")]):e._e(),201===a.row.orderStatus?t("span",[e._v("订单取消")]):e._e(),202===a.row.orderStatus?t("span",[e._v("订单关闭")]):e._e()]}}])}),t("el-table-column",{attrs:{align:"center",prop:"payStatus",label:"支付状态","min-width":"10"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.payStatus?t("span",[e._v("支付取消")]):e._e(),2===a.row.payStatus?t("span",{staticClass:"global-theme-text"},[e._v("支付成功")]):e._e(),3===a.row.payStatus?t("span",[e._v("支付失败")]):e._e()]}}])}),t("el-table-column",{attrs:{align:"center",prop:"payType",label:"支付方式","min-width":"10"},scopedSlots:e._u([{key:"default",fn:function(a){return["wx-app"===a.row.payType||"wx-h5"===a.row.payType||"wx-mp"===a.row.payType||"wx-js"===a.row.payType?t("span",[e._v("微信App")]):"wx-qrc"===a.row.payType?t("span",[e._v("微信扫码")]):"ali-app"===a.row.payType||"ali-h5"===a.row.payType?t("span",[e._v("支付宝")]):"ali-qrc"===a.row.payType?t("span",[e._v("支付宝扫码")]):"ios-iap"===a.row.payType?t("span",[e._v("苹果内购")]):"emp"===a.row.payType?t("span",[e._v("内部购课")]):"free"===a.row.payType?t("span",[e._v("免费")]):t("span",[e._v(e._s(a.row.payType))])]}}])}),t("el-table-column",{attrs:{align:"center",prop:"payOrderCode",label:"第三方订单","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"payAmount",label:"付款金额","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"channel",label:"渠道","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"ip",label:"IP","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"goodId",label:"商品ID","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"goodName",label:"商品名称","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"courseId",label:"课程ID","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"teacherName",label:"班主任","min-width":"10"}}),t("el-table-column",{attrs:{align:"center",prop:"mainTeacherName",label:"主讲老师","min-width":"10"}})],1)],1),t("el-container",{staticClass:"content-pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.purchaseLogListCount,"current-page":e.pageIndex,"page-sizes":[20,50,100],"page-size":20},on:{"current-change":function(a){return e.handleIndexChange(a,1)},"size-change":function(a){return e.handleIndexChange(a,1)}}})],1),t("el-dialog",{attrs:{title:"搜索",visible:e.searchDialog,"append-to-body":!0,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(a){e.searchDialog=a}}},[t("div",{staticClass:"no-global-dialog-form-container"},[t("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"130px"}},[t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"订单时间"}},[t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"small",clearable:""},model:{value:e.searchForm.orderTime,callback:function(a){e.$set(e.searchForm,"orderTime",a)},expression:"searchForm.orderTime"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"订单ID"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.orderId,callback:function(a){e.$set(e.searchForm,"orderId",a)},expression:"searchForm.orderId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"手机号"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.phone,callback:function(a){e.$set(e.searchForm,"phone",a)},expression:"searchForm.phone"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"设备ID"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.deviceId,callback:function(a){e.$set(e.searchForm,"deviceId",a)},expression:"searchForm.deviceId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"订单状态"}},[t("el-select",{attrs:{filterable:"",clearable:"",size:"small"},model:{value:e.searchForm.orderStatus,callback:function(a){e.$set(e.searchForm,"orderStatus",a)},expression:"searchForm.orderStatus"}},e._l(e.orderStatusList,(function(e){return t("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"支付状态"}},[t("el-select",{attrs:{filterable:"",clearable:"",size:"small"},model:{value:e.searchForm.payStatus,callback:function(a){e.$set(e.searchForm,"payStatus",a)},expression:"searchForm.payStatus"}},e._l(e.payStatusList,(function(e){return t("el-option",{key:"ps"+e.index,attrs:{label:e.label,value:e.index}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"支付方式"}},[t("el-select",{attrs:{filterable:"",clearable:"",size:"small"},model:{value:e.searchForm.payType,callback:function(a){e.$set(e.searchForm,"payType",a)},expression:"searchForm.payType"}},e._l(e.payTypeList,(function(e){return t("el-option",{key:e.index,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"渠道"}},[t("el-select",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.channel,callback:function(a){e.$set(e.searchForm,"channel",a)},expression:"searchForm.channel"}},[t("el-option",{attrs:{value:"android购课",label:"安卓购课"}}),t("el-option",{attrs:{value:"ios购课",label:"苹果购课"}}),t("el-option",{attrs:{value:"内购",label:"内部购课"}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"第三方订单"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.payOrderCode,callback:function(a){e.$set(e.searchForm,"payOrderCode",a)},expression:"searchForm.payOrderCode"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"付款金额"}},[t("el-input",{attrs:{clearable:"",size:"small"},model:{value:e.searchForm.payAmount,callback:function(a){e.$set(e.searchForm,"payAmount",a)},expression:"searchForm.payAmount"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"IP"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.ip,callback:function(a){e.$set(e.searchForm,"ip",a)},expression:"searchForm.ip"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"商品ID"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.goodId,callback:function(a){e.$set(e.searchForm,"goodId",a)},expression:"searchForm.goodId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"商品名称"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.goodName,callback:function(a){e.$set(e.searchForm,"goodName",a)},expression:"searchForm.goodName"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"课程ID"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.courseId,callback:function(a){e.$set(e.searchForm,"courseId",a)},expression:"searchForm.courseId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"主讲老师"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.mainTeacherName,callback:function(a){e.$set(e.searchForm,"mainTeacherName",a)},expression:"searchForm.mainTeacherName"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"班主任"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.searchForm.teacherName,callback:function(a){e.$set(e.searchForm,"teacherName",a)},expression:"searchForm.teacherName"}})],1)],1)],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{nativeOn:{click:function(a){a.preventDefault(),e.searchDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(a){return a.preventDefault(),function(){e.getPurchaseLog(!0)}()}}},[e._v("确 认")])],1)])],1)},l=[],n=(t("99af"),t("acd8"),t("e25e"),t("96cf"),t("1da1")),o=t("4020"),s=t("73d3"),c={data:function(){return{fullscreenLoading:!1,pageIndex:1,pageSize:20,purchaseLogList:[],purchaseLogListCount:0,searchDialog:!1,searchForm:{orderTime:null,orderId:null,phone:null,deviceId:null,orderStatus:null,payStatus:null,payType:null,payOrderCode:null,payAmount:null,channel:null,ip:null,goodId:null,courseId:null,goodName:null,mainTeacherName:null,teacherName:null},payStatusList:[{index:0,label:"支付取消"},{index:2,label:"支付成功"},{index:3,label:"支付失败"}],payTypeList:[{index:"pt0",label:"微信App",value:"wx-app"},{index:"pt1",label:"微信扫码",value:"wx-qrc"},{index:"pt2",label:"支付宝App",value:"ali-app"},{index:"pt3",label:"支付宝扫码",value:"ali-qrc"},{index:"pt4",label:"微信H5",value:"wx-h5"},{index:"pt5",label:"支付宝H5",value:"ali-h5"},{index:"pt6",label:"苹果内购",value:"ios-iap"},{index:"pt7",label:"微信小程序",value:"wx-mp"}],orderStatusList:[{index:"os0",label:"订单完成",value:200},{index:"os1",label:"订单取消",value:201},{index:"os2",label:"订单关闭",value:202}]}},methods:{getPurchaseLog:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.fullscreenLoading=!0,e.next=3,Object(o["b"])("".concat(this.$api.purchaseLog,"?order_time=").concat(this.searchForm.orderTime,"&order_id=").concat(this.searchForm.orderId,"&phone=").concat(this.searchForm.phone,"&device_id=").concat(this.searchForm.deviceId,"&order_status=").concat(this.searchForm.orderStatus?parseInt(this.searchForm.orderStatus):-1,"&pay_status=").concat("number"==typeof this.searchForm.payStatus?this.searchForm.payStatus:-1,"&pay_type=").concat(this.searchForm.payType,"&pay_order_code=").concat(this.searchForm.payOrderCode,"&pay_amount=").concat(this.searchForm.payAmount?parseFloat(this.searchForm.payAmount):-1,"&channel=").concat(this.searchForm.channel,"&ip=").concat(this.searchForm.ip,"&good_id=").concat(this.searchForm.goodId,"&course_id=").concat(this.searchForm.courseId,"&good_name=").concat(this.searchForm.goodName,"&main_teacher_name=").concat(this.searchForm.mainTeacherName,"&teacher_name=").concat(this.searchForm.teacherName),{pageNum:a?this.pageIndex=1:this.pageIndex,pageSize:this.pageSize});case 3:t=e.sent,t.ERROR_CODE?(this.fullscreenLoading=!1,this.searchDialog=!1,this.$message.error("获取购买日志失败："+t.ERROR_DES)):(this.fullscreenLoading=!1,this.searchDialog=!1,this.$message.success("获取购买日志成功"),this.purchaseLogList=t.data.data.result,this.purchaseLogListCount=t.data.data.total);case 5:case"end":return e.stop()}}),e,this)})));function a(a){return e.apply(this,arguments)}return a}(),dateFormat:function(e,a,t,r){var l=e[a.property];return l?Object(s["b"])("yyyy-MM-dd hh:mm:ss",new Date(l)):"/"},tableRowClassName:function(e){e.row},handleIndexChange:function(e,a){this.pageIndex=e,this.getPurchaseLog()},handleSizeChange:function(e,a){this.pageSize=e,this.getPurchaseLog()},reset:function(){this.pageSize=20,this.pageIndex=1,this.$set(this,"searchForm",{orderTime:null,orderId:null,phone:null,deviceId:null,orderStatus:null,payStatus:null,payType:null,payOrderCode:null,payAmount:null,channel:null,ip:null,goodId:null,courseId:null,goodName:null,mainTeacherName:null,teacherName:null}),this.getPurchaseLog()},init:function(){this.getPurchaseLog()}},mounted:function(){this.init()}},i=c,p=t("2877"),u=Object(p["a"])(i,r,l,!1,null,null,null);a["default"]=u.exports},e072:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("main",{staticClass:"content-wrap"},[t("div",{staticClass:"content-filters"},[t("div",{staticClass:"filter-col"},[t("el-input",{attrs:{size:"small",type:"primary",clearable:"",placeholder:"输入事件类型查看详情"},on:{input:e.watchInput},model:{value:e.eventCode,callback:function(a){e.eventCode=a},expression:"eventCode"}})],1),t("div",{staticClass:"filter-col"},[t("el-popover",{attrs:{placement:"bottom",title:"事件列表",trigger:"hover"}},[t("el-table",{attrs:{data:e.eventList,border:"",stripe:"",height:"300px"}},[t("el-table-column",{attrs:{width:"150",property:"des",label:"事件类型"}}),t("el-table-column",{attrs:{width:"100",property:"code",label:"事件码"}})],1),t("i",{staticClass:"el-icon-question",attrs:{slot:"reference"},slot:"reference"})],1)],1)]),t("el-main",{staticClass:"content-main"},[t("el-table",{ref:"table",staticStyle:{width:"99%"},attrs:{data:e.eventData,border:"",height:"100%"}},[t("el-table-column",{key:"logTime",attrs:{prop:"logTime",label:"事件时间",align:"center","min-width":"70"}}),t("el-table-column",{key:"eventType",attrs:{prop:"eventType",label:"事件类型",align:"center","min-width":"70"}}),t("el-table-column",{key:"phone",attrs:{prop:"phone",label:"手机号",align:"center","min-width":"100px"}}),t("el-table-column",{key:"payPhase",attrs:{prop:"payPhase",label:"付费阶段",align:"center","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.payPhase?t("span",{staticClass:"done"},[e._v("已付费")]):t("span",[e._v("未付费")])]}}])}),e.columnDataTpl.grade?t("el-table-column",{key:"grade",attrs:{prop:"grade",label:"年级",align:"center","min-width":"40"}}):e._e(),e.columnDataTpl.subject?t("el-table-column",{key:"subject",attrs:{prop:"subject",label:"科目",align:"center","min-width":"50"}}):e._e(),e.columnDataTpl.subNodeId?t("el-table-column",{key:"subNodeId",attrs:{prop:"subNodeId",label:"小节id",align:"center","min-width":"60"}}):e._e(),e.columnDataTpl.goodId?t("el-table-column",{key:"goodId",attrs:{prop:"goodId",label:"商品id",align:"center","min-width":"100"}}):e._e(),e.columnDataTpl.goodName?t("el-table-column",{key:"goodName",attrs:{prop:"goodName",label:"商品",align:"center","min-width":"70"}}):e._e(),e.columnDataTpl.teacherName?t("el-table-column",{key:"teacherName",attrs:{prop:"teacherName",label:"教师",align:"center","min-width":"70"}}):e._e(),e.columnDataTpl.mainTeacherId?t("el-table-column",{key:"mainTeacherId",attrs:{prop:"mainTeacherId",label:"教师id",align:"center","min-width":"100"}}):e._e(),e.columnDataTpl.shareType?t("el-table-column",{key:"shareType",attrs:{prop:"shareType",label:"分享方式",align:"center","min-width":"100"}}):e._e(),e.columnDataTpl.price?t("el-table-column",{key:"price",attrs:{prop:"price",label:"价格",align:"center","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(a){return["1301"==a.row.eventType||"1302"==a.row.eventType?t("span",[e._v(e._s(a.row.price))]):t("span",[e._v(e._s(a.row.realAmount))])]}}],null,!1,1483299342)}):e._e(),e.columnDataTpl.payType?t("el-table-column",{key:"payType",attrs:{prop:"payType",label:"支付渠道",align:"center","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(a){return["wx-app"===a.row.payType||"wx-h5"===a.row.payType||"wx-mp"===a.row.payType||"wx-js"===a.row.payType?t("span",[e._v("微信")]):"wx-qrc"===a.row.payType?t("span",[e._v("微信扫码")]):"ali-app"===a.row.payType||"ali-h5"===a.row.payType?t("span",[e._v("支付宝")]):"ali-qrc"===a.row.payType?t("span",[e._v("支付宝扫码")]):"ios-iap"===a.row.payType?t("span",[e._v("苹果余额")]):"emp"===a.row.payType?t("span",[e._v("内购支付")]):"free"===a.row.payType?t("span",[e._v("免费")]):t("span",[e._v(e._s(a.row.payType?a.row.payType:"/"))])]}}],null,!1,2780364735)}):e._e(),e.columnDataTpl.networkState?t("el-table-column",{key:"networkState",attrs:{prop:"networkState",label:"网络状态",align:"center","min-width":"50"}}):e._e(),e.columnDataTpl.duration?t("el-table-column",{key:"duration",attrs:{prop:"duration",label:"参与直播时间",align:"center","min-width":"100"}}):e._e(),e.columnDataTpl.playedProgress?t("el-table-column",{key:"playedProgress",attrs:{prop:"playedProgress",label:"时间回放进度",align:"center","min-width":"120"}}):e._e()],1)],1),t("el-container",{staticClass:"content-pagination"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount,"page-size":e.pageSize,"page-sizes":[20,50,100],"current-page":e.pageIndex},on:{"current-change":e.handleCurrentChange,"size-change":function(a){return e.handleCurrentChange(1,a)}}})],1)],1)},l=[],n=(t("96cf"),t("1da1")),o=t("4020"),s=t("73d3"),c=[{type:"课程商店事件",des:"浏览课程详情（改商品）",code:"1201"},{type:"课程商店事件",des:"浏览老师详情",code:"1202"},{type:"课程商店事件",des:"浏分享课程（商品）",code:"1203"},{type:"课程商店事件",des:"选课咨询",code:"1204"},{type:"购买事件",des:"报名课程（改商品）",code:"1301"},{type:"购买事件",des:"取消报名",code:"1302"},{type:"购买事件",des:"支付课程",code:"1303"},{type:"购买事件",des:"支付成功",code:"1304"},{type:"课程事件",des:"已报课程详情",code:"1401"},{type:"课程事件",des:"课程小节详情",code:"1402"},{type:"课程事件",des:"查看课件",code:"1403"},{type:"课程事件",des:"查看标记",code:"1404"},{type:"课程事件",des:"查看课堂测验",code:"1405"},{type:"课程事件",des:"查看课程资料",code:"1406"},{type:"课程事件",des:"查看课程报告",code:"1407"},{type:"课程事件",des:"进入评价",code:"1408"},{type:"课程事件",des:"进入直播",code:"1409"},{type:"课程事件",des:"离开直播",code:"1410"},{type:"课程事件",des:"进入回放",code:"1411"},{type:"课程事件",des:"离开回放",code:"1412"}],i={data:function(){return{pageIndex:1,pageSize:20,totalCount:0,eventCode:"",eventData:[],columnDataTpl:[],eventList:c}},methods:{getEvents:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(4==this.eventCode.length||0===this.eventCode.length){e.next=2;break}return e.abrupt("return");case 2:return this.eventData=[],e.next=5,Object(o["b"])(this.$api.event+"?event_type=".concat(this.eventCode?this.eventCode:-1),{pageNum:a?this.pageIndex=1:this.pageIndex,pageSize:this.pageSize});case 5:t=e.sent,t.ERROR_CODE?this.$message.error("获取数据失败："+t.ERROR_DES):(this.columnDataTpl=this.dataCheck(),this.eventData=t.data.data.result,this.totalCount=t.data.data.total),this.$refs.table.bodyWrapper.scrollTop=0;case 8:case"end":return e.stop()}}),e,this)})));function a(a){return e.apply(this,arguments)}return a}(),handleCurrentChange:function(e,a){this.pageIndex=e,a&&(this.pageSize=a),this.getEvents()},dataCheck:function(){var e=this.dataFormat();switch(this.eventCode){case"":case"1204":e["goodName"]=!1,e["goodId"]=!1,e["grade"]=!1,e["subject"]=!1,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;case"1201":break;case"1202":e["teacherId"]=!0,e["grade"]=!1,e["subject"]=!1,e["goodName"]=!1,e["goodId"]=!1;break;case"1203":e["shareType"]=!0;break;case"1301":case"1302":e["price"]=!0;break;case"1303":case"1304":e["payType"]=!0,e["price"]=!0;break;case"1401":e["subNodeId"]=!1,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;case"1402":case"1403":case"1404":case"1405":case"1406":case"1407":case"1408":case"1413":e["subNodeId"]=!0,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;case"1409":case"1411":e["networkState"]=!0,e["subNodeId"]=!0,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;case"1410":e["networkState"]=!0,e["duration"]=!0,e["subNodeId"]=!0,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;case"1412":e["networkState"]=!0,e["playedProgress"]=!0,e["subNodeId"]=!0,e["teacherName"]=!1,e["mainTeacherId"]=!1;break;default:break}return e},dataFormat:function(){return{goodName:!0,goodId:!0,grade:!0,subject:!0,teacherName:!0,mainTeacherId:!0,shareType:!1,price:!1,payType:!1,subNodeId:!1,networkState:!1,duration:!1,playedProgress:!1}},watchInput:function(){}},mounted:function(){this.watchInput=Object(s["a"])(this.getEvents.bind(this,!0),700),this.getEvents()}},p=i,u=(t("05b5"),t("2877")),d=Object(u["a"])(p,r,l,!1,null,"53e1ed66",null);a["default"]=d.exports}}]);